(this["webpackJsonpb2b-frontend"]=this["webpackJsonpb2b-frontend"]||[]).push([[0],{113:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(85),o=n.n(c),s=(n(113),n(77)),i=n(11),l=n(2),d=Object(a.createContext)(),j=function(e){var t=e.children,n=Object(i.m)();return Object(l.jsx)(d.Provider,{value:{isLoggedIn:function(){return console.log("here"),null!==sessionStorage.getItem("_token")},navigate:n,storeToken:function(e){sessionStorage.setItem("_token","Token ".concat(e))}},children:t})},b=n(17),u=n(22),x=n(10),h=n(179),O=n(187),p=n(181),m=n(177),g=n(184),f=n(183),v=n(130),w=n(178),k=n(91),C=n(186),y=n(188),S=n(192),B=n(190),I=n(191),F=n(175);function T(e){var t=e.title,n=e.content,a=e.button1,r=e.button2,c=void 0===r?"":r,o=e.handleClose;return Object(l.jsx)("div",{children:Object(l.jsxs)(y.a,{open:!0,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(l.jsx)(F.a,{id:"alert-dialog-title",children:t}),Object(l.jsx)(B.a,{children:Object(l.jsx)(I.a,{id:"alert-dialog-description",children:n})}),Object(l.jsxs)(S.a,{children:[c&&Object(l.jsx)(p.a,{onClick:o,children:c}),Object(l.jsx)(p.a,{onClick:o,autoFocus:!0,children:a})]})]})})}var D=n(79),L=n(185);function E(e){return Object(l.jsxs)(v.a,Object(D.a)(Object(D.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(l.jsx)(L.a,{color:"inherit",href:"https://github.com/snnbotchway/b2b-frontend",children:"B2B Feedback"})," ",(new Date).getFullYear(),"."]}))}var P=n.p+"static/media/b2b.085e8108.png",q=n(189),G=n(193);function H(){return Object(l.jsx)("div",{children:Object(l.jsx)(q.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:Object(l.jsx)(G.a,{color:"inherit"})})})}var M=Object(k.a)();function W(){var e=Object(a.useContext)(d),t=e.isLoggedIn,n=e.navigate,r=e.storeToken;Object(a.useEffect)((function(){t()&&n("/dashboard")}),[t,n]);var c=Object(a.useState)(!1),o=Object(x.a)(c,2),s=o[0],i=o[1],j=Object(a.useState)(),k=Object(x.a)(j,2),y=k[0],S=k[1],B=Object(a.useState)(),I=Object(x.a)(B,2),F=I[0],D=I[1],L=Object(a.useState)(),q=Object(x.a)(L,2),G=q[0],W=q[1],_=Object(a.useState)(),z=Object(x.a)(_,2),A=z[0],J=z[1],K=function(){W(""),J("")},R=function(){var e=Object(u.a)(Object(b.a)().mark((function e(t){var a,c,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t.preventDefault(),a=new FormData(t.currentTarget),c={email:a.get("email"),password:a.get("password")},e.prev=4,e.next=7,h.a.post("/account/login/",c);case 7:o=e.sent,r(o.data.token),n("/dashboard"),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(4),S(e.t0.response.data.email),D(e.t0.response.data.password),W(e.t0.response.data.non_field_errors),J(e.t0.response.data.detail);case 18:return e.prev=18,i(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,12,18,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(C.a,{theme:M,children:[G&&Object(l.jsx)(T,{title:"Error",content:G,button1:"GO BACK",handleClose:K}),A&&Object(l.jsx)(T,{title:"Error",content:A,button1:"GO BACK",handleClose:K}),s&&Object(l.jsx)(H,{}),Object(l.jsxs)(g.a,{container:!0,component:"main",sx:{height:"100vh"},children:[Object(l.jsx)(m.a,{}),Object(l.jsx)(g.a,{item:!0,xs:!1,sm:4,md:6,sx:{backgroundImage:"url(https://images.unsplash.com/photo-1450101499163-c8848c66ca85?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(l.jsx)(g.a,{item:!0,xs:12,sm:8,md:6,component:f.a,elevation:6,square:!0,children:Object(l.jsxs)(O.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(l.jsx)("img",{style:{maxHeight:"100px"},src:P,alt:"app-logo"}),Object(l.jsx)(O.a,{sx:{mt:3},children:Object(l.jsx)(v.a,{component:"h1",variant:"h5",children:"Login"})}),Object(l.jsxs)(O.a,{component:"form",noValidate:!0,onSubmit:R,sx:{mt:1},children:[Object(l.jsx)(w.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,error:Boolean(y),helperText:y}),Object(l.jsx)(w.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:Boolean(F),helperText:F}),Object(l.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Login"}),Object(l.jsx)(E,{sx:{mt:5}})]})]})})]})]})}var _=function(){return Object(l.jsx)(s.a,{children:Object(l.jsx)(j,{children:Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{path:"/",element:Object(l.jsx)(W,{}),exact:!0}),Object(l.jsx)(i.a,{path:"/login",element:Object(l.jsx)(W,{})})]})})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,194)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(_,{})})),z()}},[[122,1,2]]]);
//# sourceMappingURL=main.9ba77968.chunk.js.map
